{"version":3,"sources":["main.js"],"names":["CLIENT_ID","API_KEY","DISCOVERY_DOCS","SCOPES","authorizeButton","document","getElementById","signoutButton","handleClientLoad","gapi","load","initClient","client","init","apiKey","clientId","discoveryDocs","scope","then","auth2","getAuthInstance","isSignedIn","listen","updateSigninStatus","get","onclick","handleAuthClick","handleSignoutClick","error","appendPre","JSON","stringify","style","display","listFiles","event","signIn","signOut","message","pre","textContent","createTextNode","appendChild","drive","files","list","pageSize","fields","response","result","length","i","file","name","id","window"],"mappings":";AACA,IAAIA,EACA,2EACAC,EAAU,0CAGVC,EAAiB,CACjB,8DAKAC,EAAS,0DAETC,EAAkBC,SAASC,eAAe,oBAC1CC,EAAgBF,SAASC,eAAe,kBAK5C,SAASE,IACLC,KAAKC,KAAK,eAAgBC,GAO9B,SAASA,IACLF,KAAKG,OACAC,KAAK,CACFC,OAAQb,EACRc,SAAUf,EACVgB,cAAed,EACfe,MAAOd,IAEVe,KACG,WAEIT,KAAKU,MACAC,kBACAC,WAAWC,OAAOC,GAGvBA,EACId,KAAKU,MAAMC,kBAAkBC,WAAWG,OAE5CpB,EAAgBqB,QAAUC,EAC1BnB,EAAckB,QAAUE,GAE5B,SAASC,GACLC,EAAUC,KAAKC,UAAUH,EAAO,KAAM,MAStD,SAASL,EAAmBF,GACpBA,GACAjB,EAAgB4B,MAAMC,QAAU,OAChC1B,EAAcyB,MAAMC,QAAU,QAC9BC,MAEA9B,EAAgB4B,MAAMC,QAAU,QAChC1B,EAAcyB,MAAMC,QAAU,QAOtC,SAASP,EAAgBS,GACrB1B,KAAKU,MAAMC,kBAAkBgB,SAMjC,SAAST,EAAmBQ,GACxB1B,KAAKU,MAAMC,kBAAkBiB,UASjC,SAASR,EAAUS,GACXC,IAAAA,EAAMlC,SAASC,eAAe,WAC9BkC,EAAcnC,SAASoC,eAAeH,EAAU,MACpDC,EAAIG,YAAYF,GAMpB,SAASN,IACLzB,KAAKG,OAAO+B,MAAMC,MACbC,KAAK,CACFC,SAAU,GACVC,OAAQ,mCAEX7B,KAAK,SAAS8B,GACXnB,EAAU,UACNe,IAAAA,EAAQI,EAASC,OAAOL,MACxBA,GAAAA,GAASA,EAAMM,OAAS,EACnB,IAAA,IAAIC,EAAI,EAAGA,EAAIP,EAAMM,OAAQC,IAAK,CAC/BC,IAAAA,EAAOR,EAAMO,GACjBtB,EAAUuB,EAAKC,KAAO,KAAOD,EAAKE,GAAK,UAG3CzB,EAAU,qBAK1B0B,OAAO/C,iBAAmBA","file":"main.bbdffe01.js","sourceRoot":"src","sourcesContent":["// Client ID and API key from the Developer Console\nvar CLIENT_ID =\n    '404368161278-r3fe3d25hsifgnrjmnhspt9kln1589sc.apps.googleusercontent.com'\nvar API_KEY = 'AIzaSyAtW45PibDKV137Zjhf0hqG6Ulm34FFiKs'\n\n// Array of API discovery doc URLs for APIs used by the quickstart\nvar DISCOVERY_DOCS = [\n    'https://www.googleapis.com/discovery/v1/apis/drive/v3/rest',\n]\n\n// Authorization scopes required by the API; multiple scopes can be\n// included, separated by spaces.\nvar SCOPES = 'https://www.googleapis.com/auth/drive.metadata.readonly'\n\nvar authorizeButton = document.getElementById('authorize_button')\nvar signoutButton = document.getElementById('signout_button')\n\n/**\n *  On load, called to load the auth2 library and API client library.\n */\nfunction handleClientLoad() {\n    gapi.load('client:auth2', initClient)\n}\n\n/**\n *  Initializes the API client library and sets up sign-in state\n *  listeners.\n */\nfunction initClient() {\n    gapi.client\n        .init({\n            apiKey: API_KEY,\n            clientId: CLIENT_ID,\n            discoveryDocs: DISCOVERY_DOCS,\n            scope: SCOPES,\n        })\n        .then(\n            function() {\n                // Listen for sign-in state changes.\n                gapi.auth2\n                    .getAuthInstance()\n                    .isSignedIn.listen(updateSigninStatus)\n\n                // Handle the initial sign-in state.\n                updateSigninStatus(\n                    gapi.auth2.getAuthInstance().isSignedIn.get()\n                )\n                authorizeButton.onclick = handleAuthClick\n                signoutButton.onclick = handleSignoutClick\n            },\n            function(error) {\n                appendPre(JSON.stringify(error, null, 2))\n            }\n        )\n}\n\n/**\n *  Called when the signed in status changes, to update the UI\n *  appropriately. After a sign-in, the API is called.\n */\nfunction updateSigninStatus(isSignedIn) {\n    if (isSignedIn) {\n        authorizeButton.style.display = 'none'\n        signoutButton.style.display = 'block'\n        listFiles()\n    } else {\n        authorizeButton.style.display = 'block'\n        signoutButton.style.display = 'none'\n    }\n}\n\n/**\n *  Sign in the user upon button click.\n */\nfunction handleAuthClick(event) {\n    gapi.auth2.getAuthInstance().signIn()\n}\n\n/**\n *  Sign out the user upon button click.\n */\nfunction handleSignoutClick(event) {\n    gapi.auth2.getAuthInstance().signOut()\n}\n\n/**\n * Append a pre element to the body containing the given message\n * as its text node. Used to display the results of the API call.\n *\n * @param {string} message Text to be placed in pre element.\n */\nfunction appendPre(message) {\n    var pre = document.getElementById('content')\n    var textContent = document.createTextNode(message + '\\n')\n    pre.appendChild(textContent)\n}\n\n/**\n * Print files.\n */\nfunction listFiles() {\n    gapi.client.drive.files\n        .list({\n            pageSize: 10,\n            fields: 'nextPageToken, files(id, name)',\n        })\n        .then(function(response) {\n            appendPre('Files:')\n            var files = response.result.files\n            if (files && files.length > 0) {\n                for (var i = 0; i < files.length; i++) {\n                    var file = files[i]\n                    appendPre(file.name + ' (' + file.id + ')')\n                }\n            } else {\n                appendPre('No files found.')\n            }\n        })\n}\n\nwindow.handleClientLoad = handleClientLoad\n"]}